<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6P Horizon Strategist - Mockup</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Basic Reset & Body */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            background-color: #F4F7F6; /* Light grayish background */
            color: #333;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        a { text-decoration: none; color: #007bff; }
        a:hover { text-decoration: underline; }

        /* Header */
        .main-header {
            background-color: #1A237E; /* Deep Blue */
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        .logo { font-size: 1.5rem; font-weight: bold; cursor: pointer;}
        .top-nav { display: flex; align-items: center; gap: 1.5rem; }
        .global-search { padding: 0.5rem; border-radius: 4px; border: 1px solid #4A56A8; background-color: #2F3A94; color: white;}
        .nav-icon { font-size: 1.2rem; color: white; position: relative; cursor: pointer;}
        .badge {
            background-color: #FF3B30; /* Red for notifications */
            color: white;
            border-radius: 50%;
            padding: 0.1em 0.4em;
            font-size: 0.7rem;
            position: absolute;
            top: -5px;
            right: -8px;
        }
        .user-profile { display: flex; align-items: center; gap: 0.5rem; cursor: pointer;}
        .avatar-placeholder {
            width: 30px; height: 30px; border-radius: 50%; background-color: #757575;
            display: inline-flex; align-items: center; justify-content: center;
            font-size: 0.8rem;
        }


        /* Buttons */
        .btn {
            padding: 0.6rem 1.2rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.2s ease-in-out;
            display: inline-flex; /* For icon alignment */
            align-items: center;
            gap: 0.5rem; /* Space between icon and text */
        }
        .btn i { font-size: 0.9em; } /* Adjust icon size within button */
        .btn-primary { background-color: #009688; /* Teal Accent */ color: white; }
        .btn-primary:hover { background-color: #00796B; }
        .btn-secondary { background-color: #E0E0E0; color: #333; }
        .btn-secondary:hover { background-color: #BDBDBD; }
        .btn-small { padding: 0.4rem 0.8rem; font-size: 0.8rem; }
        .btn-ai-accept { background-color: #66BB6A; color:white; margin-right:0.5rem;}
        .btn-ai-accept:hover { background-color: #4CAF50; }
        .btn-ai-dismiss { background-color: #FF7043; color:white; }
        .btn-ai-dismiss:hover { background-color: #F4511E; }

        /* Main App Container */
        #app-container {
            flex-grow: 1; /* Takes remaining vertical space */
            width: 100%;
        }
        .page {
            display: none; /* Hidden by default */
            animation: fadeIn 0.5s;
        }
        .page.active-page {
            display: block; /* Show active page */
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Dashboard Page */
        .dashboard-container {
            padding: 2rem;
            display: grid;
            gap: 2rem;
            grid-template-areas:
                "header header"
                "stats stats"
                "deals sidebar"
                "deals sidebar";
            grid-template-columns: 3fr 1fr;
        }
        .dashboard-header {
            grid-area: header;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 1rem;
            border-bottom: 1px solid #DDD;
        }
        .dashboard-header h1 { margin: 0; color: #1A237E; }
        .quick-stats {
            grid-area: stats;
            display: flex;
            gap: 1.5rem;
            justify-content: space-around;
        }
        .stat-card {
            background-color: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            text-align: center;
            flex-grow: 1;
        }
        .stat-card h2 { margin-top: 0; font-size: 1rem; color: #757575; }
        .stat-value { font-size: 2rem; font-weight: bold; color: #1A237E; margin-bottom: 0;}
        .active-deals { grid-area: deals; background-color: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); }
        .active-deals h2 { margin-top: 0; color: #1A237E; border-bottom: 2px solid #009688; padding-bottom: 0.5rem; margin-bottom: 1rem;}
        .deal-card {
            background-color: #F9F9F9;
            border: 1px solid #EEE;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: box-shadow 0.2s ease;
        }
        .deal-card:hover { box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .deal-info h3 { margin: 0 0 0.3rem 0; color: #007bff; cursor: pointer;}
        .deal-info p { margin: 0; font-size: 0.9rem; color: #555; }
        .progress-bar-container { width: 150px; height: 10px; background-color: #E0E0E0; border-radius: 5px; overflow: hidden; }
        .progress-bar { height: 100%; background-color: #009688; /* Teal */ border-radius: 5px; font-size: 0.7rem; color: white; text-align: center; line-height: 10px;}
        .deal-actions { display: flex; align-items: center; gap: 0.5rem; }
        .risk-flag { color: #D32F2F; font-weight: bold; font-size:0.9rem; } /* Red for risk */
        .opportunity-flag { color: #FFC107; font-weight:bold; font-size:0.9rem; } /* Amber for opportunity */
        .sidebar-tasks-activity { grid-area: sidebar; display: flex; flex-direction: column; gap: 1.5rem; }
        .my-tasks, .recent-activity-dashboard { background-color: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); }
        .my-tasks h2, .recent-activity-dashboard h2 { margin-top: 0; color: #1A237E; border-bottom: 2px solid #009688; padding-bottom: 0.5rem; margin-bottom: 1rem;}
        .my-tasks ul, .recent-activity-dashboard ul { list-style: none; padding: 0; margin: 0; }
        .my-tasks li, .recent-activity-dashboard li { margin-bottom: 0.75rem; font-size: 0.9rem; padding-left:10px; border-left:3px solid #757575;}
        .my-tasks li a { color: #333; }

        /* Deal Workspace & 6P Overview Page */
        .deal-workspace-page-container { /* Renamed to avoid conflict */
            display: grid;
            grid-template-columns: 220px 1fr auto; /* Nav, Main, Sidebar */
            grid-template-areas: "subnav main sidebar";
            gap: 1.5rem;
            padding: 1.5rem;
            /* height: calc(100vh - 60px - 40px); Full height minus header and footer */
        }
        .deal-sub-nav {
            grid-area: subnav;
            background-color: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            display: flex;
            flex-direction: column;
        }
        .deal-sub-nav a, .deal-sub-nav button { /* Treat buttons like nav links for styling */
            padding: 0.8rem 1rem;
            color: #333;
            border-radius: 4px;
            margin-bottom: 0.5rem;
            font-weight: 500;
            cursor: pointer;
            text-align: left;
            background: none;
            border: none;
            font-family: inherit;
            font-size: inherit;
        }
        .deal-sub-nav a.active, .deal-sub-nav button.active,
        .deal-sub-nav a:hover, .deal-sub-nav button:hover {
            background-color: #E3F2FD; /* Light blue */
            color: #1A237E; /* Dark Blue */
            font-weight: bold;
            text-decoration: none;
        }
        .deal-main-content {
            grid-area: main;
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            overflow-y: auto;
        }
        .deal-main-header h1 {
            color: #1A237E;
            margin-top: 0;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #009688;
            padding-bottom: 0.5rem;
        }
        .six-p-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }
        .p-card {
            background-color: #F9FAFB;
            border: 1px solid #E5E7EB;
            border-left: 5px solid; /* Pillar specific color */
            padding: 1.5rem;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .p-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .p-card.project { border-left-color: #EF5350; } /* Red */
        .p-card.people { border-left-color: #42A5F5; } /* Blue */
        .p-card.product { border-left-color: #66BB6A; } /* Green */
        .p-card.processes { border-left-color: #FFA726; } /* Orange */
        .p-card.performance { border-left-color: #AB47BC; } /* Purple */
        .p-card.posture { border-left-color: #78909C; } /* Blue Grey */
        .p-card-header { display: flex; align-items: center; margin-bottom: 0.5rem; }
        .p-icon { font-size: 1.8rem; margin-right: 0.8rem; width:30px; text-align:center; }
        .p-card.project .p-icon { color: #EF5350; }
        .p-card.people .p-icon { color: #42A5F5; }
        .p-card.product .p-icon { color: #66BB6A; }
        .p-card.processes .p-icon { color: #FFA726; }
        .p-card.performance .p-icon { color: #AB47BC; }
        .p-card.posture .p-icon { color: #78909C; }
        .p-card h2 { font-size: 1.2rem; margin: 0; color: #1A237E; }
        .p-description { font-size: 0.85rem; color: #555; flex-grow: 1; margin-bottom: 1rem; }
        .p-status { font-size: 0.8rem; color: #757575; margin-bottom: 1rem; }
        .p-status span { margin-right: 0.8rem; display:inline-block; }
        .ai-insight-flag { color: #009688; font-weight: bold; } /* Teal for AI insights */
        .risk-flag-pillar { color: #D32F2F; font-weight: bold; }
        .p-action { align-self: flex-start; }
        .deal-sidebar {
            grid-area: sidebar;
            background-color: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            overflow-y: auto;
            width: 280px; /* Fixed width for sidebar */
        }
        .key-deal-info h3, .ai-summary-widget h3, .deal-recent-activity h3 {
            margin-top: 0;
            color: #1A237E;
            font-size: 1rem;
            border-bottom: 1px solid #EEE;
            padding-bottom: 0.5rem;
            margin-bottom: 0.8rem;
        }
        .key-deal-info p { margin: 0.3rem 0; font-size: 0.9rem; }
        .ai-summary-widget .fa-brain { color: #009688; margin-right: 0.3rem;}
        .ai-insight-text { font-size: 0.85rem; font-style: italic; color: #424242; background-color: #E0F2F1; padding: 0.5rem; border-radius:4px; border-left: 3px solid #009688;}
        .deal-recent-activity ul { list-style: none; padding: 0; margin: 0; }
        .deal-recent-activity li { margin-bottom: 0.5rem; font-size: 0.85rem; color: #555; }

        /* Project Assessment Page */
        .module-assessment-content { padding: 1.5rem; }
        .breadcrumbs { font-size: 0.9rem; color: #555; margin-bottom: 1rem; }
        .breadcrumbs a { color: #007bff; }
        .module-header-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #DDD;
        }
        .module-header-actions h1 { margin: 0; display:flex; align-items:center; gap:0.5rem; }
        .module-header-actions h1 .p-icon.project { color: #EF5350; } /* Ensure icon color */
        .module-progress { font-size: 0.9rem; color: #757575; margin-right: 1rem; }
        .header-buttons { display: flex; gap: 0.5rem; }
        .assessment-layout {
            display: grid;
            grid-template-columns: 2.5fr 1fr; /* Main assessment area and sidebar */
            gap: 1.5rem;
        }
        .assessment-main {
            background-color: #fff; /* White background for assessment area */
            padding:1.5rem;
            border-radius:6px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        .tab-navigation {
            display: flex;
            border-bottom: 2px solid #009688; /* Teal underline for active area */
            margin-bottom: 1.5rem;
        }
        .tab-button {
            padding: 0.8rem 1.2rem;
            border: none;
            background-color: transparent;
            cursor: pointer;
            font-size: 1rem;
            color: #757575;
            border-bottom: 2px solid transparent; /* For inactive state */
            margin-bottom: -2px; /* To align with the main border */
            transition: color 0.2s, border-color 0.2s;
        }
        .tab-button.active, .tab-button:hover {
            color: #009688; /* Teal */
            font-weight: bold;
            border-bottom-color: #009688;
        }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .assessment-item {
            margin-bottom: 2rem;
            padding: 1rem;
            background-color: #F9FAFB;
            border-radius: 4px;
            border: 1px solid #E5E7EB;
        }
        .assessment-item label {
            display: block;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #1A237E;
        }
        .input-area {
            position: relative;
            display: flex;
            align-items: flex-start; /* Align textarea and button nicely */
        }
        .input-area textarea {
            width: calc(100% - 40px); /* Adjust width to make space for button */
            padding: 0.8rem;
            border: 1px solid #CCC;
            border-radius: 4px;
            font-family: inherit;
            font-size: 0.95rem;
            min-height: 80px;
        }
        .input-area .comment-btn {
            background: transparent;
            border: none;
            color: #757575;
            font-size: 1.2rem;
            padding: 0.5rem;
            cursor: pointer;
            margin-left: 0.5rem; /* Space from textarea */
            position:relative;
        }
        .input-area .comment-btn .badge { top: 0px; right: -2px; font-size:0.6rem; }
        .input-area .comment-btn:hover { color: #007bff; }
        .ai-assist-panel {
            background-color: #E0F2F1; /* Light Teal */
            border: 1px solid #B2DFDB;
            border-left: 4px solid #009688; /* Teal accent */
            padding: 1rem;
            margin-top: 0.8rem;
            border-radius: 4px;
            font-size: 0.85rem;
        }
        .ai-assist-panel h4 { margin-top: 0; color: #00796B; font-size:0.9rem; }
        .ai-assist-panel p em { font-style:normal; background-color: #FFFDE7; padding:0.1rem 0.3rem; border-radius:3px;}
        .supporting-docs { margin-top: 1rem; }
        .supporting-docs label { font-size: 0.85rem; color: #555; }
        .supporting-docs input[type="file"] { font-size: 0.85rem; }
        .assessment-sidebar {
            background-color: #F9FAFB;
            padding: 1.5rem;
            border-radius: 6px;
            border: 1px solid #E5E7EB;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .assessment-sidebar section h3 {
            font-size: 1rem;
            color: #1A237E;
            margin-top: 0;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #DDD;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .assessment-sidebar .fa-brain { color: #009688; }
        .assessment-sidebar .fa-tasks { color: #42A5F5; }
        .assessment-sidebar .fa-comments { color: #FFA726; }
        .linked-tasks-module ul { list-style: disc; padding-left: 1.2rem; margin: 0; font-size:0.85rem; }
        .linked-tasks-module li { margin-bottom: 0.4rem; }
        .pillar-comments .comment-item {
            font-size: 0.85rem;
            background-color: #FFF;
            padding: 0.6rem;
            border-radius: 4px;
            margin-bottom: 0.5rem;
            border:1px solid #EEE;
        }
        .pillar-comments .comment-item strong { color: #007bff; }
        .pillar-comments .comment-time { font-size: 0.75rem; color: #999; display:block; text-align:right;}
        .pillar-comments textarea { width: calc(100% - 1.2rem); padding:0.5rem; border:1px solid #DDD; border-radius:4px; margin-bottom:0.5rem; font-size:0.85rem;}

        /* Transformation Roadmap Page */
        .roadmap-container {
            padding: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .roadmap-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 1rem;
            border-bottom: 1px solid #DDD;
        }
        .roadmap-header h1 { margin: 0; color: #1A237E; }
        .roadmap-controls { display: flex; gap: 1rem; }
        .roadmap-main {
            display: flex; /* For horizontal layout of phases */
            gap: 1.5rem;
            overflow-x: auto; /* Allow horizontal scrolling for many phases */
            padding-bottom: 1rem; /* Space for scrollbar */
        }
        .roadmap-phase {
            background-color: #F9FAFB;
            min-width: 300px; /* Minimum width for a phase column */
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid #E5E7EB;
        }
        .roadmap-phase h2 {
            font-size: 1.1rem;
            color: #1A237E;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #009688;
            margin-top: 0;
            margin-bottom: 1rem;
        }
        .initiative-card {
            background-color: white;
            border: 1px solid #DDD;
            border-left: 4px solid; /* Status color */
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 6px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        .initiative-card h3 { font-size: 1rem; margin-top: 0; margin-bottom: 0.3rem; color: #007bff;}
        .initiative-card p { margin: 0.2rem 0; font-size: 0.85rem; color: #555; }
        .initiative-owner { font-weight: bold; font-size: 0.8rem; }
        .initiative-kpis { font-style: italic; font-size: 0.8rem; color: #009688;}
        .status-planned { border-left-color: #78909C; } /* Grey */
        .status-inprogress { border-left-color: #42A5F5; } /* Blue */
        .status-completed { border-left-color: #66BB6A; } /* Green */
        .status-onhold { border-left-color: #FFA726; } /* Orange */

        /* Footer */
        .main-footer-sticky {
            background-color: #333;
            color: #AAA;
            text-align: center;
            padding: 0.8rem;
            font-size: 0.85rem;
            border-top: 1px solid #444;
            margin-top: auto; /* Pushes footer to bottom in flex container */
        }

    </style>
</head>
<body>
    <header class="main-header">
        <div class="logo" onclick="navigateTo('dashboard-page')">6P Horizon Strategist</div>
        <nav class="top-nav">
            <input type="search" placeholder="Search..." class="global-search">
            <a href="#" class="nav-icon" aria-label="Notifications">üîî <span class="badge">3</span></a>
            <div class="user-profile">
                <span>Alex Chen</span>
                <span class="avatar-placeholder">AC</span>
            </div>
        </nav>
    </header>

    <div id="app-container">
        <section id="dashboard-page" class="page active-page">
            <div class="dashboard-container">
                <div class="dashboard-header">
                    <h1>Welcome back, Alex!</h1>
                    <button class="btn btn-primary"><i class="fas fa-plus"></i> Initiate New Deal</button>
                </div>

                <section class="quick-stats">
                    <div class="stat-card">
                        <h2>Active Deals</h2>
                        <p class="stat-value">5</p>
                    </div>
                    <div class="stat-card">
                        <h2>High-Priority Tasks</h2>
                        <p class="stat-value">8</p>
                    </div>
                    <div class="stat-card">
                        <h2>Unread Notifications</h2>
                        <p class="stat-value">3</p>
                    </div>
                </section>

                <section class="active-deals">
                    <h2>My Active Deals</h2>
                    <div class="deal-card">
                        <div class="deal-info">
                            <h3 onclick="navigateToDeal('deal-workspace-page', 'Target Alpha Inc.')">Target Alpha Inc.</h3>
                            <p>Status: Project (Core DNA) - 40% Complete</p>
                        </div>
                        <div class="deal-progress">
                            <div class="progress-bar-container">
                                <div class="progress-bar" style="width: 40%;">40%</div>
                            </div>
                        </div>
                        <div class="deal-actions">
                            <span class="risk-flag">‚ö†Ô∏è 2 Risks</span>
                            <button class="btn btn-secondary btn-small" onclick="navigateToDeal('deal-workspace-page', 'Target Alpha Inc.')"><i class="fas fa-folder-open"></i> View Workspace</button>
                        </div>
                    </div>
                    <div class="deal-card">
                        <div class="deal-info">
                            <h3 onclick="navigateToDeal('deal-workspace-page', 'Beta Solutions Ltd.')">Beta Solutions Ltd.</h3>
                            <p>Status: Performance - 85% Complete</p>
                        </div>
                        <div class="deal-progress">
                            <div class="progress-bar-container">
                                <div class="progress-bar" style="width: 85%;">85%</div>
                            </div>
                        </div>
                        <div class="deal-actions">
                             <span class="opportunity-flag">‚ú® 1 Opportunity</span>
                            <button class="btn btn-secondary btn-small" onclick="navigateToDeal('deal-workspace-page', 'Beta Solutions Ltd.')"><i class="fas fa-folder-open"></i> View Workspace</button>
                        </div>
                    </div>
                </section>

                <aside class="sidebar-tasks-activity">
                    <section class="my-tasks">
                        <h2>My Tasks</h2>
                        <ul>
                            <li><a href="#">Finalize 'Product IP' review for Target Alpha</a> (Due: May 9)</li>
                            <li><a href="#">Schedule meeting with Beta Solutions CEO</a> (Due: May 10)</li>
                        </ul>
                    </section>
                    <section class="recent-activity-dashboard">
                        <h2>Recent Activity</h2>
                        <ul>
                            <li>Sarah Miller (Target Alpha) commented on 'Mission Statement'.</li>
                            <li>'Financials Q1' document uploaded for Beta Solutions.</li>
                        </ul>
                    </section>
                </aside>
            </div>
        </section>

        <section id="deal-workspace-page" class="page">
            <div class="deal-workspace-page-container">
                <nav class="deal-sub-nav">
                    <button class="active" data-deal-page="6p-overview-content" onclick="navigateToDealSubPage(this, '6p-overview-content')">6P Framework</button>
                    <button data-deal-page="documents-content" onclick="navigateToDealSubPage(this, 'documents-content')">Documents</button>
                    <button data-deal-page="collaboration-content" onclick="navigateToDealSubPage(this, 'collaboration-content')">Collaboration Canvas</button>
                    <button data-deal-page="tasks-content" onclick="navigateToDealSubPage(this, 'tasks-content')">Tasks <span class="badge">12</span></button>
                    <button data-deal-page="team-content" onclick="navigateToDealSubPage(this, 'team-content')">Team <span class="badge">5</span></button>
                    <button data-deal-page="reports-content" onclick="navigateToDealSubPage(this, 'reports-content')">Reports</button>
                    <button data-deal-page="transformation-plan-content" onclick="navigateTo('transformation-roadmap-page')">Transformation Plan</button>
                     <button onclick="navigateTo('dashboard-page')"><i class="fas fa-arrow-left"></i> Back to Dashboard</button>
                </nav>

                <main id="deal-main-content-area" class="deal-main-content">
                    </main>

                <aside class="deal-sidebar">
                    <section class="key-deal-info">
                        <h3 id="sidebar-deal-name">Target Alpha Inc.</h3>
                        <p><strong>Industry:</strong> SaaS Solutions</p>
                        <p><strong>Primary Contact:</strong> Sarah Miller (CEO)</p>
                    </section>
                    <section class="ai-summary-widget">
                        <h3><i class="fas fa-brain"></i> AI Quick Insights</h3>
                        <p class="ai-insight-text">Consider potential misalignment between stated 'Project' innovation goals and current 'Product' development velocity.</p>
                        <a href="#">Explore Insights</a>
                    </section>
                    <section class="deal-recent-activity">
                        <h3>Recent Activity</h3>
                        <ul id="deal-specific-activity-list">
                            <li>Alex C. started assessment for 'Project'.</li>
                            <li>Document 'Company Pitch Deck Q1' uploaded.</li>
                        </ul>
                    </section>
                </aside>
            </div>
        </section>

        <template id="project-assessment-template">
            <div class="module-assessment-content">
                <div class="breadcrumbs">
                    <span class="current-deal-breadcrumb">Target Alpha Inc.</span> &gt;
                    <a href="#" onclick="loadDealWorkspaceContent('6p-overview-content')">6P Framework</a> &gt;
                    <span>Project (Core DNA)</span>
                </div>

                <div class="module-header-actions">
                    <h1><i class="fas fa-bullseye p-icon project"></i> Project (Core DNA) Assessment</h1>
                    <div class="header-buttons">
                        <span class="module-progress">Progress: 40%</span>
                        <button class="btn btn-secondary btn-small"><i class="fas fa-eye"></i> View Related Docs</button>
                        <button class="btn btn-primary btn-small"><i class="fas fa-save"></i> Save Progress</button>
                    </div>
                </div>

                <div class="assessment-layout">
                    <div class="assessment-main">
                        <div class="tab-navigation">
                            <button class="tab-button active" data-tab="vision">Vision</button>
                            <button class="tab-button" data-tab="mission">Mission</button>
                            <button class="tab-button" data-tab="strategy">Strategy</button>
                            <button class="tab-button" data-tab="client-needs">Client Needs</button>
                            <button class="tab-button" data-tab="innovation">Innovation Outlook</button>
                        </div>

                        <div id="vision" class="tab-content active">
                            <div class="assessment-item">
                                <label for="vision-text">What is the company's articulated long-term vision?</label>
                                <div class="input-area">
                                    <textarea id="vision-text" rows="6" placeholder="Enter vision statement..."></textarea>
                                    <button class="comment-btn" aria-label="View comments on Vision"><i class="fas fa-comment-dots"></i> <span class="badge">2</span></button>
                                </div>
                                <div class="ai-assist-panel">
                                    <h4><i class="fas fa-lightbulb"></i> AI Suggester</h4>
                                    <p>Based on <em>'pitch_deck_q1.pdf' (p.3)</em>, the vision is stated as: "To be the leading global provider of sustainable energy solutions."</p>
                                    <button class="btn btn-ai-accept btn-small">Use This Text</button>
                                    <button class="btn btn-ai-dismiss btn-small">Dismiss</button>
                                </div>
                                 <div class="supporting-docs">
                                    <label for="vision-docs">Attach supporting documents:</label>
                                    <input type="file" id="vision-docs" multiple>
                                </div>
                            </div>
                        </div>

                        <div id="mission" class="tab-content">
                            <div class="assessment-item">
                                <label for="mission-text">Describe the company's mission.</label>
                                 <div class="input-area">
                                    <textarea id="mission-text" rows="6" placeholder="Enter mission statement..."></textarea>
                                     <button class="comment-btn" aria-label="View comments on Mission"><i class="fas fa-comment-dots"></i></button>
                                </div>
                            </div>
                        </div>
                        <div id="strategy" class="tab-content"><p>Strategy assessment items...</p></div>
                         <div id="client-needs" class="tab-content"><p>Client Needs assessment items...</p></div>
                         <div id="innovation" class="tab-content"><p>Innovation Outlook assessment items...</p></div>
                    </div>

                    <aside class="assessment-sidebar">
                        <section class="ai-pillar-summary">
                            <h3><i class="fas fa-brain"></i> Project Pillar AI Summary</h3>
                            <p class="ai-insight-text">Vision and Mission appear well-defined. Strategy section requires further detail on competitive differentiation for future-proofing.</p>
                        </section>
                        <section class="linked-tasks-module">
                            <h3><i class="fas fa-tasks"></i> Related Tasks</h3>
                            <ul>
                                <li>Alex: Clarify innovation roadmap (Due May 10)</li>
                                <li>Sarah M: Upload strategic plan document (Due May 12)</li>
                            </ul>
                        </section>
                        <section class="pillar-comments">
                            <h3><i class="fas fa-comments"></i> Pillar Discussion</h3>
                            <div class="comment-item">
                                <p><strong>Alex C.:</strong> "Sarah, can we get more detail on the 3-year strategic objectives?" <span class="comment-time">2h ago</span></p>
                            </div>
                             <textarea placeholder="Add a general comment for Project Pillar..." rows="3"></textarea>
                             <button class="btn btn-secondary btn-small">Post Comment</button>
                        </section>
                    </aside>
                </div>
            </div>
        </template>

        <section id="transformation-roadmap-page" class="page">
            <div class="deal-workspace-page-container"> <nav class="deal-sub-nav"> <button data-deal-page="6p-overview-content" onclick="navigateToDeal('deal-workspace-page', currentDealName)">6P Framework</button>
                    <button class="active">Transformation Plan</button>
                    <button onclick="navigateTo('dashboard-page')"><i class="fas fa-arrow-left"></i> Back to Dashboard</button>
                </nav>

                <main class="deal-main-content">
                    <div class="roadmap-container">
                        <div class="roadmap-header">
                            <h1 id="roadmap-deal-name">Target Alpha Inc. - Transformation Roadmap</h1>
                            <div class="roadmap-controls">
                                <select>
                                    <option>Filter by Owner</option>
                                    <option>Alex Chen</option>
                                    <option>Sarah Miller</option>
                                </select>
                                <select>
                                    <option>Filter by Status</option>
                                    <option>Planned</option>
                                    <option>In Progress</option>
                                    <option>Completed</option>
                                </select>
                                <button class="btn btn-primary"><i class="fas fa-plus"></i> Add Initiative</button>
                            </div>
                        </div>

                        <div class="roadmap-main">
                            <div class="roadmap-phase">
                                <h2>Phase 1: Q3 2025 (Integration & Quick Wins)</h2>
                                <div class="initiative-card status-inprogress">
                                    <h3>Streamline Onboarding Process</h3>
                                    <p class="initiative-owner">Owner: Alex C. & Team Bravo</p>
                                    <p>Integrate CRM systems and automate initial client communication.</p>
                                    <p class="initiative-kpis">KPIs: Reduce onboarding time by 20%; CSAT > 90%</p>
                                    <p><small>Linked to: Processes, People</small></p>
                                </div>
                                <div class="initiative-card status-planned">
                                    <h3>Product Feature Enhancement A</h3>
                                    <p class="initiative-owner">Owner: Sarah M. & Dev Team</p>
                                    <p>Roll out critical feature requested by key clients during DD.</p>
                                    <p class="initiative-kpis">KPIs: Adoption rate > 50% in 2 months</p>
                                     <p><small>Linked to: Product, Performance</small></p>
                                </div>
                            </div>
                            <div class="roadmap-phase">
                                <h2>Phase 2: Q4 2025 (Growth & Optimization)</h2>
                                <div class="initiative-card status-planned">
                                    <h3>New Market Entry Strategy</h3>
                                    <p class="initiative-owner">Owner: Alex C. & Sarah M.</p>
                                    <p>Research and develop plan for APAC market entry.</p>
                                    <p class="initiative-kpis">KPIs: Market Research Complete; Business Plan Drafted</p>
                                     <p><small>Linked to: Project, Performance</small></p>
                                </div>
                                 <div class="initiative-card status-onhold">
                                    <h3>AI Integration for Support</h3>
                                    <p class="initiative-owner">Owner: Tech Lead</p>
                                    <p>Explore AI chatbot for Tier 1 customer support.</p>
                                    <p class="initiative-kpis">KPIs: Feasibility study complete</p>
                                     <p><small>Linked to: Processes, Posture (data privacy)</small></p>
                                </div>
                            </div>
                             <div class="roadmap-phase">
                                <h2>Phase 3: Q1 2026 (Scale & Innovation)</h2>
                                <div class="initiative-card status-completed">
                                    <h3>Leadership Training Program</h3>
                                    <p class="initiative-owner">Owner: HR Department</p>
                                    <p>Implement new leadership development curriculum.</p>
                                    <p class="initiative-kpis">KPIs: 100% eligible manager participation</p>
                                     <p><small>Linked to: People</small></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
                 <aside class="deal-sidebar"> <section>
                        <h3>Roadmap Context</h3>
                        <p>Focus on realizing synergies identified in the 6P assessment.</p>
                    </section>
                     <section class="ai-summary-widget">
                        <h3><i class="fas fa-brain"></i> AI Initiative Suggester</h3>
                        <p class="ai-insight-text">Consider adding an initiative for 'Cross-functional knowledge sharing' based on 'People' and 'Processes' findings.</p>
                    </section>
                </aside>
            </div>
        </section>

    </div> <footer class="main-footer-sticky">
        ¬© 2025 Horizon Strategists Inc.
    </footer>

    <script>
        let currentDealName = 'Target Alpha Inc.'; // Global to store current deal context

        const pages = document.querySelectorAll('.page');
        const dealMainContentArea = document.getElementById('deal-main-content-area');

        function navigateTo(pageId) {
            pages.forEach(page => {
                page.classList.remove('active-page');
            });
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active-page');
            }

            // If navigating to deal workspace, ensure a default view is loaded
            if (pageId === 'deal-workspace-page') {
                loadDealWorkspaceContent('6p-overview-content'); // Default to 6P overview
                updateDealSubNavActiveState('6p-overview-content');
            }
            if (pageId === 'transformation-roadmap-page') {
                document.getElementById('roadmap-deal-name').textContent = `${currentDealName} - Transformation Roadmap`;
            }
        }

        function navigateToDeal(pageId, dealName) {
            currentDealName = dealName;
            document.getElementById('sidebar-deal-name').textContent = currentDealName;
            // Potentially update other deal-specific elements here in a real app
            // For now, just navigate to the deal workspace page
            navigateTo(pageId);
        }

        function updateDealSubNavActiveState(activeContentId) {
            const dealSubNavButtons = document.querySelectorAll('.deal-sub-nav button');
            dealSubNavButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.dealPage === activeContentId) {
                    btn.classList.add('active');
                }
            });
        }

        function navigateToDealSubPage(buttonElement, contentIdToLoad) {
            updateDealSubNavActiveState(contentIdToLoad);
            loadDealWorkspaceContent(contentIdToLoad);
        }


        function loadDealWorkspaceContent(contentType) {
            if (!dealMainContentArea) return;
            dealMainContentArea.innerHTML = ''; // Clear previous content

            let contentHTML = '';
            switch (contentType) {
                case '6p-overview-content':
                    contentHTML = `
                        <div class="deal-main-header">
                            <h1>${currentDealName} - 6P Framework Assessment</h1>
                        </div>
                        <div class="six-p-grid">
                            <div class="p-card project" onclick="loadDealWorkspaceContent('project-assessment-content')">
                                <div class="p-card-header"><i class="fas fa-bullseye p-icon"></i><h2>Project</h2></div>
                                <p class="p-description">Vision, Mission, Strategy clarity...</p>
                                <div class="p-status"><div class="progress-bar-container"><div class="progress-bar" style="width: 40%;">40%</div></div><span><i class="fas fa-tasks"></i> 3 Tasks</span> <span class="ai-insight-flag"><i class="fas fa-lightbulb"></i> 1 AI Insight</span></div>
                                <button class="btn btn-primary btn-small p-action">View & Assess</button>
                            </div>
                            <div class="p-card people" onclick="alert('Navigate to People Assessment')">
                                <div class="p-card-header"><i class="fas fa-users p-icon"></i><h2>People</h2></div>
                                <p class="p-description">Growth culture, leadership...</p>
                                <div class="p-status"><div class="progress-bar-container"><div class="progress-bar" style="width: 15%;">15%</div></div><span><i class="fas fa-tasks"></i> 5 Tasks</span> <span class="risk-flag-pillar"><i class="fas fa-exclamation-triangle"></i> 1 Risk</span></div>
                                <button class="btn btn-primary btn-small p-action">View & Assess</button>
                            </div>
                            <div class="p-card product"><div class="p-card-header"><i class="fas fa-cogs p-icon"></i><h2>Product</h2></div> <p class="p-description">Technical foundation, IP...</p><div class="p-status"><div class="progress-bar-container"><div class="progress-bar" style="width: 0%;">0%</div></div></div><button class="btn btn-primary btn-small p-action">View & Assess</button></div>
                            <div class="p-card processes"><div class="p-card-header"><i class="fas fa-project-diagram p-icon"></i><h2>Processes</h2></div> <p class="p-description">Operational leanness, AI automation...</p><div class="p-status"><div class="progress-bar-container"><div class="progress-bar" style="width: 0%;">0%</div></div></div><button class="btn btn-primary btn-small p-action">View & Assess</button></div>
                            <div class="p-card performance"><div class="p-card-header"><i class="fas fa-chart-line p-icon"></i><h2>Performance</h2></div> <p class="p-description">KPIs, financial discipline...</p><div class="p-status"><div class="progress-bar-container"><div class="progress-bar" style="width: 0%;">0%</div></div></div><button class="btn btn-primary btn-small p-action">View & Assess</button></div>
                            <div class="p-card posture"><div class="p-card-header"><i class="fas fa-shield-alt p-icon"></i><h2>Posture</h2></div> <p class="p-description">Compliance, risk management...</p><div class="p-status"><div class="progress-bar-container"><div class="progress-bar" style="width: 0%;">0%</div></div></div><button class="btn btn-primary btn-small p-action">View & Assess</button></div>
                        </div>`;
                    break;
                case 'project-assessment-content':
                    const projectTemplate = document.getElementById('project-assessment-template');
                    if (projectTemplate) {
                        contentHTML = projectTemplate.innerHTML;
                         // Update breadcrumb deal name
                        setTimeout(() => { // Timeout to ensure DOM is updated
                            const breadcrumbDealName = dealMainContentArea.querySelector('.current-deal-breadcrumb');
                            if(breadcrumbDealName) breadcrumbDealName.textContent = currentDealName;
                        }, 0);
                    }
                    break;
                case 'documents-content':
                    contentHTML = `<div class="deal-main-header"><h1>${currentDealName} - Documents</h1></div><p>Document management interface would go here. Sections for upload, folder views, AI analysis status, etc.</p>`;
                    break;
                case 'collaboration-content':
                    contentHTML = `<div class="deal-main-header"><h1>${currentDealName} - Collaboration Canvas</h1></div><p>A flexible canvas (e.g., using a library like Miro Web SDK or a custom solution) for notes, mind maps, etc., would be embedded here.</p>`;
                    break;
                case 'tasks-content':
                    contentHTML = `<div class="deal-main-header"><h1>${currentDealName} - Tasks</h1></div><p>Task management board (Kanban or list view) specific to this deal.</p>`;
                    break;
                case 'team-content':
                    contentHTML = `<div class="deal-main-header"><h1>${currentDealName} - Team & Permissions</h1></div><p>Interface to manage internal and external collaborators for this deal.</p>`;
                    break;
                case 'reports-content':
                    contentHTML = `<div class="deal-main-header"><h1>${currentDealName} - Reports</h1></div><p>Options to generate and view Due Diligence reports, Risk summaries, etc.</p>`;
                    break;
                default:
                    contentHTML = `<p>Content for ${contentType} not yet implemented.</p>`;
            }
            dealMainContentArea.innerHTML = contentHTML;

            // Re-attach tab listeners if project assessment content is loaded
            if (contentType === 'project-assessment-content') {
                attachTabListeners();
            }
        }

        function attachTabListeners() {
            const tabButtons = dealMainContentArea.querySelectorAll('.tab-button');
            const tabContents = dealMainContentArea.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    const targetTab = button.dataset.tab;
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === targetTab) {
                            content.classList.add('active');
                        }
                    });
                });
            });
        }

        // Initial page load
        document.addEventListener('DOMContentLoaded', () => {
            navigateTo('dashboard-page'); // Start with dashboard
        });

    </script>
</body>
</html>
